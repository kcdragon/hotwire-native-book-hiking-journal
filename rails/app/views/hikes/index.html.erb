<%= render "shared/header", title: "Hikes" %>

<% if user_signed_in? %>
  <meta data-controller="bridge--notification-token" />
<% end %>

<% if @hikes.any? %>
  <div class="container list-group list-group-flush px-0">
    <%= render @hikes %>
  </div>
<% else %>
  <p class="container">No hikes, yet.</p>
<% end %>

<div class="container d-flex justify-content-between gap-2 mt-4">
  <% if user_signed_in? %>
    <%= link_to "Add a hike", new_hike_path,
      class: "btn btn-primary flex-grow-1 flex-sm-grow-0", data: {
        controller: "bridge--button",
        bridge_title: "Add",
        bridge_ios_image_name: "plus",
        bridge_android_icon_name: "add",
      } %>
    <%= link_to "Sign out", session_path,
      class: "btn btn-outline-danger d-none d-hotwire-native-block", data: { turbo_method: "delete", turbo_confirm: "Sign out?" } %>
  <% else %>
    <div class="flex-grow-1">
      <%= link_to "Sign in", new_session_path,
        class: "btn btn-outline-primary d-none d-hotwire-native-block" %>
    </div>
  <% end %>
</div>
